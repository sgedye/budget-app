class UI{constructor(){this.budgetFeedback=document.querySelector(".budget-feedback"),this.expenseFeedback=document.querySelector(".expense-feedback"),this.budgetForm=document.getElementById("budget-form"),this.budgetInput=document.getElementById("budget-input"),this.budgetAmount=document.getElementById("budget-amount"),this.expenseAmount=document.getElementById("expense-amount"),this.balance=document.getElementById("balance"),this.balanceAmount=document.getElementById("balance-amount"),this.expenseForm=document.getElementById("expense-form"),this.expenseInput=document.getElementById("expense-input"),this.amountInput=document.getElementById("amount-input"),this.expenseList=document.getElementById("expense-list"),this.itemList=[],this.itemID=0}submitBudgetForm(){const e=this.budgetInput.value;if(""===e||e<0){this.budgetFeedback.classList.add("showItem"),this.budgetFeedback.innerHTML="<p>Values cannot be negative or empty</p>";const e=this;setTimeout(()=>{e.budgetFeedback.classList.remove("showItem")},4e3)}else this.budgetAmount.textContent=e,this.budgetInput.value="",this.showBalance()}showBalance(){const e=this.totalExpense(),t=parseInt(this.budgetAmount.textContent)-e;this.balanceAmount.textContent=t,t<0?(this.balance.classList.remove("showGreen","showBlack"),this.balance.classList.add("showRed")):t>0?(this.balance.classList.remove("showRed","showBlack"),this.balance.classList.add("showGreen")):0===t&&(this.balance.classList.remove("showGreen","showRed"),this.balance.classList.add("showBlack"))}submitExpenseForm(){const e=this.expenseInput.value,t=this.amountInput.value;if(""===e||""===t||t<0){this.expenseFeedback.classList.add("showItem"),this.expenseFeedback.innerHTML="<p>Values cannot be negative or empty</p>";const e=this;setTimeout(()=>{e.expenseFeedback.classList.remove("showItem")},4e3)}else{let s=parseInt(t);this.expenseInput.value="",this.amountInput.value="";let n={id:this.itemID,title:e,amount:s};this.itemID++,this.itemList.push(n),this.addExpense(n),this.showBalance()}}addExpense(e){const t=document.createElement("div");t.classList.add("expense"),t.innerHTML=`\n\t\t\t<div class="expense-item d-flex justify-content-between align-items-baseline">\n\t\t\t\t<h5 class="expense-title text-uppercase list-item">- ${e.title}</h5>\n\t\t\t\t<h5 class="expense-amount list-item">${e.amount}</h5>\n\t\t\t\t<div class="expense-icons list-item">\n\t\t\t\t\t<a href="#" class="edit-icon" data-id="${e.id}">\n\t\t\t\t\t\t<i class="fas fa-edit"></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href="#" class="delete-icon" data-id="${e.id}">\n\t\t\t\t\t\t<i class="fas fa-trash"></i>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`,this.expenseList.appendChild(t)}totalExpense(){let e=0;return this.itemList.length>0&&(e=this.itemList.reduce((e,t)=>e+=t.amount,0)),this.expenseAmount.textContent=e,e}editExpense(e){let t=parseInt(e.dataset.id),s=e.parentElement.parentElement.parentElement;this.expenseList.removeChild(s);let n=this.itemList.filter(e=>e.id===t);this.expenseInput.value=n[0].title,this.amountInput.value=n[0].amount;let i=this.itemList.filter(e=>e.id!==t);this.itemList=i,this.showBalance()}deleteExpense(e){let t=parseInt(e.dataset.id),s=e.parentElement.parentElement.parentElement;this.expenseList.removeChild(s);let n=this.itemList.filter(e=>e.id!==t);this.itemList=n,this.showBalance()}}function eventListeners(){const e=document.getElementById("budget-form"),t=document.getElementById("expense-form"),s=document.getElementById("expense-list"),n=new UI;e.addEventListener("submit",e=>{e.preventDefault(),n.submitBudgetForm()}),t.addEventListener("submit",e=>{e.preventDefault(),n.submitExpenseForm()}),s.addEventListener("click",e=>{e.target.parentElement.classList.contains("edit-icon")?n.editExpense(e.target.parentElement):e.target.parentElement.classList.contains("delete-icon")&&n.deleteExpense(e.target.parentElement)})}document.addEventListener("DOMContentLoaded",()=>{eventListeners()});